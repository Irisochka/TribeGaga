/**
 * Yet another jquery slider - smSlider
 * @author sap1ens - http://sap1ens.ru 
 */
(function(b){b.fn.smSlider=function(c){var a=b.extend({item_width:310,per_screen:2,duration:400,prev_class:"slider_prev",next_class:"slider_next",prev_active_class:"slider_active_prev",next_active_class:"slider_active_next",_frozen:false},c),c=b(this),e=c.width(),f=c.height(),d=c.children(),g=Math.ceil(d.children().length/3),h=g*a.item_width;d.css("width",h+"px");g>a.per_screen&&b("."+a.next_class).addClass(a.next_active_class);b.browser.safari=b.browser.webkit&&!window.chrome;b.browser.safari?d.css("clip",
"rect(0px, "+e+"px, "+f+"px, 0px)"):c.css("overflow","hidden");b("."+a.next_class).live("click",function(){if(!a._frozen){var c=b(this);if(c.hasClass(a.next_active_class))a._frozen=true,d.animate({left:"-="+a.item_width},{duration:a.duration,easing:"swing",step:function(a){b.browser.safari&&(a=Math.abs(a),d.css("clip","rect(0px, "+(e+a)+"px, "+f+"px, "+a+"px)"))},complete:function(){a._frozen=false;b("."+a.prev_class).addClass(a.prev_active_class);parseInt(d.css("left").replace("px",""))>-h+a.per_screen*
a.item_width||c.removeClass(a.next_active_class)}})}});b("."+a.prev_class).live("click",function(){if(!a._frozen){var c=b(this);if(c.hasClass(a.prev_active_class))a._frozen=true,d.animate({left:"+="+a.item_width},{duration:a.duration,easing:"swing",step:function(a){b.browser.safari&&(a=Math.abs(a),d.css("clip","rect(0px, "+(e+a)+"px, "+f+"px, "+a+"px)"))},complete:function(){a._frozen=false;b("."+a.next_class).addClass(a.next_active_class);parseInt(d.css("left").replace("px",""))+a.item_width<=0||
c.removeClass(a.prev_active_class)}})}});return this}})(jQuery);